<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ve√≠culos</title>
    <link rel="stylesheet" href="exibir-revisoes.component.css" />
  </head>
  <body>
    <div class="main">
      <div class="formulario">
        <div class="iconeVoltar">
          <img
            (click)="entrarPrincipal()"
            src="assets/voltarBtn.png"
            alt="Voltar"
          />
          <h1
            style="
              background-color: #000080;
              color: #ffffff;
              width: 50vh;
              height: 7vh;
              display: flex;
              align-items: center;
              justify-content: center;
              border-radius: 10px;
            "
          >
            VEICULOS
          </h1>
        </div>

        <div class="container card-container" *ngFor="let placa of listaPlacas">
          <div class="card">
            <div
              style="
                display: flex;
                text-align: left;
                justify-content: space-around;
                align-items: center;
              "
              class="card-body"
            >
              <!-- Informa√ß√µes do ve√≠culo -->
              <div  class="revi">
                <p><strong>Placa:</strong> {{ placa }}</p>
                <p>
                  <strong>Tipo Revis√£o:</strong>
                  {{
                    revisoesDetalhadas[placa]?.tipoRevisao || "N√£o encontrado"
                  }}
                </p>
                <p>
                  <strong>Detalhes Revis√£o:</strong>
                  {{
                    revisoesDetalhadas[placa]?.detalhesRevisao ||
                      "N√£o encontrado"
                  }}
                </p>
                <select
                  class="custom-select"
                  (change)="enviarStatus(placa, $event)"                  
                >
                  <option value=" *Aguardando*">Aguardando</option>
                  <option value=" *Andamento* üîß">Andamento</option>
                  <option value=" *Teste de Estrada* üöó">
                    Teste de Estrada
                  </option>
                  <option value=" *Diagn√≥stico* üìä">Diagn√≥stico</option>
                  <option value=" *Desmontagem* üî©">Desmontagem</option>
                  <option value=" *Montagem* üîß">Montagem</option>
                  <option value=" *Concluido* ‚úÖ">Conclu√≠do</option>
                  <option value=" *Lavagem* üöø">Lavagem</option>
                  <option value=" *Pintura* üé®">Pintura</option>
                  <option value=" *Alinhamento* üìè">Alinhamento</option>
                  <option value=" *Balanceamento* ‚öñÔ∏è">Balanceamento</option>
                  <option value=" *Troca de √ìleo* üõ¢Ô∏è">Troca de √ìleo</option>
                  <option value=" *Revis√£o Geral* üîç">Revis√£o Geral</option>
                  <option value=" *Troca de Pneus* üöó">Troca de Pneus</option>
                  <option value=" *Troca de Bateria* üîã">
                    Troca de Bateria
                  </option>
                  <option value=" *Freios* üö¶">Freios</option>
                  <option value=" *Suspens√£o* üõ†Ô∏è">Suspens√£o</option>
                  <option value=" *El√©trica* üí°">El√©trica</option>
                  <option value=" *Motor* ‚öôÔ∏è">Motor</option>
                  <option value=" *Transmiss√£o* üîß">Transmiss√£o</option>
                  <option value=" *Limpeza Interna* üßΩ">Limpeza Interna</option>
                  <option value=" *Polimento* ‚ú®">Polimento</option>
                  <option value=" *Inspe√ß√£o* üïµÔ∏è">Inspe√ß√£o</option>
                  <option value=" *Revis√£o de Seguran√ßa* üõ°Ô∏è">
                    Revis√£o de Seguran√ßa
                  </option>
                </select>
                <textarea
                  style="border-radius: 5px"
                  [ngModel]="revisoesDetalhadas[placa]?.orcamento"
                  (ngModelChange)="updateOrcamento($event, placa)"
                  placeholder="Diagn√≥stico e or√ßamento"
                ></textarea>
                <div class="button-container">
                  <button
                    (click)="
                      salvarOrcamento(
                        placa,
                        revisoesDetalhadas[placa]?.orcamento
                      )
                    "
                  >
                    Enviar Mensagem
                  </button>
                </div>
              </div>

              <!-- Informa√ß√µes do ve√≠culo -->
              <div class="info-column">
                <p>
                  <strong>Marca Ve√≠culo:</strong>
                  {{
                    revisoesDetalhadas[placa]?.marcaVeiculo || "N√£o encontrado"
                  }}
                </p>
                <p>
                  <strong>Modelo Ve√≠culo:</strong>
                  {{
                    revisoesDetalhadas[placa]?.modeloVeiculo || "N√£o encontrado"
                  }}
                </p>
                <p>
                  <strong>Ano Ve√≠culo:</strong>
                  {{
                    revisoesDetalhadas[placa]?.anoVeiculo || "N√£o encontrado"
                  }}
                </p>
              </div>

              <!-- Informa√ß√µes do cliente -->
              <div class="info-column">
                <p>
                  <strong>Nome Cliente:</strong>
                  {{
                    revisoesDetalhadas[placa]?.nomeCliente || "N√£o encontrado"
                  }}
                </p>
                <p>
                  <strong>CPF Cliente:</strong>
                  {{
                    revisoesDetalhadas[placa]?.cpfCliente || "N√£o encontrado"
                  }}
                </p>
                <p>
                  <strong>Telefone Cliente:</strong>
                  {{
                    revisoesDetalhadas[placa]?.telefoneCliente ||
                      "N√£o encontrado"
                  }}
                </p>
                <p>
                  <strong>Email Cliente:</strong>
                  {{
                    revisoesDetalhadas[placa]?.emailCliente || "N√£o encontrado"
                  }}
                </p>
              </div>

              

              <!-- A√ß√µes -->
              <div class="actions">
                <button (click)="concluirRevisao(placa)" class="custom-button">
                  CONCLUIR REVIS√ÉO
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
