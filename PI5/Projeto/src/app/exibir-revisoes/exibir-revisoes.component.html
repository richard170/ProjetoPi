<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ve√≠culos</title>
    <link rel="stylesheet" href="exibir-revisoes.component.css" />
  </head>
  <body>
    <div class="main">
      <div class="formulario">
        <div class="iconeVoltar">
          <img
            (click)="entrarPrincipal()"
            src="assets/voltarBtn.png"
            alt="Voltar"
          />
          <h1
            style="
              background-color: #000080;
              color: #ffffff;
              width: 50vh;
              height: 7vh;
              display: flex;
              align-items: center;
              justify-content: center;
              border-radius: 10px;
            "
          >
            VEICULOS
          </h1>
        </div>

        <div class="container card-container" *ngFor="let placa of listaPlacas">
          <div class="card">
            <div
              style="
                display: flex;
                text-align: left;
                justify-content: space-around;
                align-items: center;
              "
              class="card-body"
            >
              <!-- Informa√ß√µes do ve√≠culo -->
              <div class="revi">
                <p><strong>Placa:</strong> {{ placa }}</p>
                <p>
                  <strong>Tipo Revis√£o:</strong>
                  {{
                    revisoesDetalhadas[placa]?.tipoRevisao || "N√£o encontrado"
                  }}
                </p>
                <p>
                  <strong>Detalhes Revis√£o:</strong>
                  {{
                    revisoesDetalhadas[placa]?.detalhesRevisao ||
                      "N√£o encontrado"
                  }}
                </p>
                <textarea
                  style="border-radius: 5px"
                  [ngModel]="revisoesDetalhadas[placa]?.orcamento"
                  (ngModelChange)="updateOrcamento($event, placa)"
                  placeholder="Or√ßamento"
                ></textarea>
                <div class="button-container">
                  <button
                    (click)="
                      salvarOrcamento(
                        placa,
                        revisoesDetalhadas[placa]?.orcamento
                      )
                    "
                  >
                    Salvar
                  </button>
                </div>
              </div>

              <!-- Informa√ß√µes do cliente -->
              <div class="info-column">
                <p>
                  <strong>Nome Cliente:</strong>
                  {{
                    revisoesDetalhadas[placa]?.nomeCliente || "N√£o encontrado"
                  }}
                </p>
                <p>
                  <strong>CPF Cliente:</strong>
                  {{
                    revisoesDetalhadas[placa]?.cpfCliente || "N√£o encontrado"
                  }}
                </p>
                <p>
                  <strong>Telefone Cliente:</strong>
                  {{
                    revisoesDetalhadas[placa]?.telefoneCliente ||
                      "N√£o encontrado"
                  }}
                </p>
                <p>
                  <strong>Email Cliente:</strong>
                  {{
                    revisoesDetalhadas[placa]?.emailCliente || "N√£o encontrado"
                  }}
                </p>
              </div>

              <!-- Informa√ß√µes do ve√≠culo -->
              <div class="info-column">
                <p>
                  <strong>Marca Ve√≠culo:</strong>
                  {{
                    revisoesDetalhadas[placa]?.marcaVeiculo || "N√£o encontrado"
                  }}
                </p>
                <p>
                  <strong>Modelo Ve√≠culo:</strong>
                  {{
                    revisoesDetalhadas[placa]?.modeloVeiculo || "N√£o encontrado"
                  }}
                </p>
                <p>
                  <strong>Ano Ve√≠culo:</strong>
                  {{
                    revisoesDetalhadas[placa]?.anoVeiculo || "N√£o encontrado"
                  }}
                </p>
              </div>

              <!-- A√ß√µes -->
              <div class="actions">
                <select
                  class="custom-select"
                  (change)="enviarStatus(placa, $event)"
                >
                  <option value="Aguardando">Aguardando</option>
                  <option value=" Andamento üîß">Andamento</option>
                  <option value=" Concluido ‚úÖ">Conclu√≠do</option>
                </select>
                <button
                  (click)="concluirRevisao(placa)"
                  class="custom-button"
                >
                  CONCLUIR REVIS√ÉO
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
